{"map":"{\"version\":3,\"sources\":[\"leaflet.trackplayback.js\"],\"names\":[\"root\",\"factory\",\"exports\",\"module\",\"require\",\"define\",\"amd\",\"a\",\"i\",\"window\",\"__WEBPACK_EXTERNAL_MODULE__0__\",\"modules\",\"installedModules\",\"__webpack_require__\",\"moduleId\",\"l\",\"call\",\"m\",\"c\",\"d\",\"name\",\"getter\",\"o\",\"Object\",\"defineProperty\",\"enumerable\",\"get\",\"r\",\"Symbol\",\"toStringTag\",\"value\",\"t\",\"mode\",\"__esModule\",\"ns\",\"create\",\"key\",\"bind\",\"n\",\"object\",\"property\",\"prototype\",\"hasOwnProperty\",\"p\",\"s\",\"Error\",\"__webpack_exports__\",\"external_root_L_commonjs_leaflet_commonjs2_leaflet_amd_leaflet_\",\"external_root_L_commonjs_leaflet_commonjs2_leaflet_amd_leaflet_default\",\"isArray\",\"arr\",\"Array\",\"toString\",\"Track\",\"Class\",\"extend\",\"initialize\",\"trackData\",\"options\",\"setOptions\",\"this\",\"forEach\",\"item\",\"isOrigin\",\"_trackPoints\",\"_timeTick\",\"_update\",\"addTrackPoint\",\"trackPoint\",\"len\",\"length\",\"_addTrackPoint\",\"getTimes\",\"times\",\"push\",\"time\",\"getStartTrackPoint\",\"getEndTrackPoint\",\"getTrackPointByTime\",\"_getCalculateTrackPointByTime\",\"endpoint\",\"startPt\",\"endPt\",\"left\",\"right\",\"parseInt\",\"t0\",\"t1\",\"p0\",\"p1\",\"point\",\"lng\",\"lat\",\"distanceTo\",\"v\",\"sinx\",\"y\",\"cosx\",\"x\",\"step\",\"dir\",\"Math\",\"PI\",\"asin\",\"undefined\",\"getTrackPointsBeforeTime\",\"tpoints\",\"_sortTrackPointsByTime\",\"_updatetimeTick\",\"j\",\"tmp\",\"TrackController\",\"tracks\",\"draw\",\"_tracks\",\"addTrack\",\"_draw\",\"_updateTime\",\"getMinTime\",\"_minTime\",\"getMaxTime\",\"_maxTime\",\"track\",\"drawTracksByTime\",\"clear\",\"tps\",\"drawTrack\",\"stime\",\"etime\",\"Clock\",\"includes\",\"Mixin\",\"Events\",\"speed\",\"maxSpeed\",\"trackController\",\"_trackController\",\"_endTime\",\"_curTime\",\"_speed\",\"_maxSpeed\",\"_intervalID\",\"_lastFpsUpdateTime\",\"start\",\"Util\",\"requestAnimFrame\",\"_tick\",\"stop\",\"cancelAnimFrame\",\"rePlaying\",\"slowSpeed\",\"quickSpeed\",\"getSpeed\",\"getCurTime\",\"getStartTime\",\"getEndTime\",\"isPlaying\",\"setCursor\",\"fire\",\"setSpeed\",\"_caculatefpsTime\",\"now\",\"Date\",\"isPause\",\"stepTime\",\"pow\",\"leaflet_trackplayback_draw\",\"TrackPlayBack\",\"data\",\"map\",\"drawOptions\",\"trackPointOptions\",\"trackLineOptions\",\"targetOptions\",\"toolTipOptions\",\"_initTracks\",\"clock\",\"clockOptions\",\"on\",\"showTrackPoint\",\"hideTrackPoint\",\"showTrackLine\",\"hideTrackLine\",\"dispose\",\"off\",\"remove\",\"e\",\"trackplayback\"],\"mappings\":\"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\"}","code":"!function(t,i){if(\"object\"==typeof exports&&\"object\"==typeof module)module.exports=i(require(\"leaflet\"));else if(\"function\"==typeof define&&define.amd)define([\"leaflet\"],i);else{var e=\"object\"==typeof exports?i(require(\"leaflet\")):i(t.L);for(var n in e)(\"object\"==typeof exports?exports:t)[n]=e[n]}}(window,(function(t){return function(t){var i={};function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}return e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:n})},e.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&\"object\"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:t}),2&i&&\"string\"!=typeof t)for(var r in t)e.d(n,r,function(i){return t[i]}.bind(null,r));return n},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,\"a\",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p=\"\",e(e.s=2)}([function(i,e){i.exports=t},function(t,i){throw new Error(\"Module parse failed: Unexpected token (316:29)\\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\\n|     this._ctx.translate(point.x, point.y)\\n|     this._ctx.rotate((Math.PI / 180) * dir)\\n>     this._ctx.drawImage(this., 0 - offset.x, 0 - offset.y, width, height)\\n|     this._ctx.restore()\\n| \")},function(t,i,e){\"use strict\";e.r(i);var n=e(0),r=e.n(n);function s(t){return Array.isArray?Array.isArray(t):\"[object Array]\"===Object.prototype.toString.call(t)}const o=r.a.Class.extend({initialize:function(t=[],i){r.a.setOptions(this,i),t.forEach(t=>{t.isOrigin=!0}),this._trackPoints=t,this._timeTick={},this._update()},addTrackPoint:function(t){if(s(t))for(let i=0,e=t.length;i<e;i++)this.addTrackPoint(t[i]);this._addTrackPoint(t)},getTimes:function(){let t=[];for(let i=0,e=this._trackPoints.length;i<e;i++)t.push(this._trackPoints[i].time);return t},getStartTrackPoint:function(){return this._trackPoints[0]},getEndTrackPoint:function(){return this._trackPoints[this._trackPoints.length-1]},getTrackPointByTime:function(t){return this._trackPoints[this._timeTick[t]]},_getCalculateTrackPointByTime:function(t){let i=this.getTrackPointByTime(t),e=this.getStartTrackPoint(),n=this.getEndTrackPoint(),s=this.getTimes();if(t<e.time||t>n.time)return;let o,a=0,c=s.length-1;if(a===c)return i;for(;c-a!=1;)o=parseInt((a+c)/2),t>s[o]?a=o:c=o;let h=s[a],l=s[c],u=t,f=this.getTrackPointByTime(h),d=this.getTrackPointByTime(l);e=r.a.point(f.lng,f.lat),n=r.a.point(d.lng,d.lat);let k=e.distanceTo(n);if(k<=0)return i=d,i;let _=k/(l-h),p=(n.y-e.y)/k,T=(n.x-e.x)/k,m=_*(u-h),g=e.x+m*T,P=e.y+m*p,y=n.x>=e.x?180*(.5*Math.PI-Math.asin(p))/Math.PI:180*(1.5*Math.PI+Math.asin(p))/Math.PI;return i?void 0===i.dir&&(i.dir=y):i={lng:g,lat:P,dir:y,isOrigin:!1,time:t},i},getTrackPointsBeforeTime:function(t){let i=[];for(let e=0,n=this._trackPoints.length;e<n;e++)this._trackPoints[e].time<t&&i.push(this._trackPoints[e]);let e=this._getCalculateTrackPointByTime(t);return e&&i.push(e),i},_addTrackPoint:function(t){t.isOrigin=!0,this._trackPoints.push(t),this._update()},_update:function(){this._sortTrackPointsByTime(),this._updatetimeTick()},_sortTrackPointsByTime:function(){let t=this._trackPoints.length;for(let i=0;i<t;i++)for(let e=0;e<t-1-i;e++)if(this._trackPoints[e].time>this._trackPoints[e+1].time){let t=this._trackPoints[e+1];this._trackPoints[e+1]=this._trackPoints[e],this._trackPoints[e]=t}},_updatetimeTick:function(){this._timeTick={};for(let t=0,i=this._trackPoints.length;t<i;t++)this._timeTick[this._trackPoints[t].time]=t}}),a=r.a.Class.extend({initialize:function(t=[],i,e){r.a.setOptions(this,e),this._tracks=[],this.addTrack(t),this._draw=i,this._updateTime()},getMinTime:function(){return this._minTime},getMaxTime:function(){return this._maxTime},addTrack:function(t){if(s(t))for(let i=0,e=t.length;i<e;i++)this.addTrack(t[i]);else{if(!(t instanceof o))throw new Error(\"tracks must be an instance of `Track` or an array of `Track` instance!\");this._tracks.push(t),this._updateTime()}},drawTracksByTime:function(t){this._draw.clear();for(let i=0,e=this._tracks.length;i<e;i++){let e=this._tracks[i].getTrackPointsBeforeTime(t);e&&e.length&&this._draw.drawTrack(e)}},_updateTime:function(){this._minTime=this._tracks[0].getStartTrackPoint().time,this._maxTime=this._tracks[0].getEndTrackPoint().time;for(let t=0,i=this._tracks.length;t<i;t++){let i=this._tracks[t].getStartTrackPoint().time,e=this._tracks[t].getEndTrackPoint().time;i<this._minTime&&(this._minTime=i),e>this._maxTime&&(this._maxTime=e)}}}),c=r.a.Class.extend({includes:r.a.Mixin.Events,options:{speed:12,maxSpeed:65},initialize:function(t,i){r.a.setOptions(this,i),this._trackController=t,this._endTime=this._trackController.getMaxTime(),this._curTime=this._trackController.getMinTime(),this._speed=this.options.speed,this._maxSpeed=this.options.maxSpeed,this._intervalID=null,this._lastFpsUpdateTime=0},start:function(){this._intervalID||(this._intervalID=r.a.Util.requestAnimFrame(this._tick,this))},stop:function(){this._intervalID&&(r.a.Util.cancelAnimFrame(this._intervalID),this._intervalID=null,this._lastFpsUpdateTime=0)},rePlaying:function(){this.stop(),this._curTime=this._trackController.getMinTime(),this.start()},slowSpeed:function(){this._speed=this._speed<=1?this._speed:this._speed-1,this._intervalID&&(this.stop(),this.start())},quickSpeed:function(){this._speed=this._speed>=this._maxSpeed?this._speed:this._speed+1,this._intervalID&&(this.stop(),this.start())},getSpeed:function(){return this._speed},getCurTime:function(){return this._curTime},getStartTime:function(){return this._trackController.getMinTime()},getEndTime:function(){return this._trackController.getMaxTime()},isPlaying:function(){return!!this._intervalID},setCursor:function(t){this._curTime=t,this._trackController.drawTracksByTime(this._curTime),this.fire(\"tick\",{time:this._curTime})},setSpeed:function(t){this._speed=t,this._intervalID&&(this.stop(),this.start())},_caculatefpsTime:function(t){let i;return i=0===this._lastFpsUpdateTime?0:t-this._lastFpsUpdateTime,this._lastFpsUpdateTime=t,i/=1e3,i},_tick:function(){let t=+new Date,i=!1,e=this._caculatefpsTime(t)*Math.pow(2,this._speed-1);this._curTime+=e,this._curTime>=this._endTime&&(this._curTime=this._endTime,i=!0),this._trackController.drawTracksByTime(this._curTime),this.fire(\"tick\",{time:this._curTime}),i||(this._intervalID=r.a.Util.requestAnimFrame(this._tick,this))}});var h=e(1);const l=r.a.Class.extend({includes:r.a.Mixin.Events,initialize:function(t,i,e={}){let n={trackPointOptions:e.trackPointOptions,trackLineOptions:e.trackLineOptions,targetOptions:e.targetOptions,toolTipOptions:e.toolTipOptions};this.tracks=this._initTracks(t),this.draw=new h.Draw(i,n),this.trackController=new a(this.tracks,this.draw),this.clock=new c(this.trackController,e.clockOptions),this.clock.on(\"tick\",this._tick,this)},start:function(){return this.clock.start(),this},stop:function(){return this.clock.stop(),this},rePlaying:function(){return this.clock.rePlaying(),this},slowSpeed:function(){return this.clock.slowSpeed(),this},quickSpeed:function(){return this.clock.quickSpeed(),this},getSpeed:function(){return this.clock.getSpeed()},getCurTime:function(){return this.clock.getCurTime()},getStartTime:function(){return this.clock.getStartTime()},getEndTime:function(){return this.clock.getEndTime()},isPlaying:function(){return this.clock.isPlaying()},setCursor:function(t){return this.clock.setCursor(t),this},setSpeed:function(t){return this.clock.setSpeed(t),this},showTrackPoint:function(){return this.draw.showTrackPoint(),this},hideTrackPoint:function(){return this.draw.hideTrackPoint(),this},showTrackLine:function(){return this.draw.showTrackLine(),this},hideTrackLine:function(){return this.draw.hideTrackLine(),this},dispose:function(){this.clock.off(\"tick\",this._tick),this.draw.remove(),this.tracks=null,this.draw=null,this.trackController=null,this.clock=null},_tick:function(t){this.fire(\"tick\",t)},_initTracks:function(t){let i=[];if(s(t))if(s(t[0]))for(let e=0,n=t.length;e<n;e++)i.push(new o(t[e]));else i.push(new o(t));return i}});r.a.TrackPlayBack=l,r.a.trackplayback=function(t,i,e){return new l(t,i,e)}}])}));","extractedComments":[]}